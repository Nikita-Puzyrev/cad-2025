<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß–ª–µ–Ω—ã | –§–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="//" class="navbar-brand">–§–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä</a>
            <ul class="navbar-menu">
                <li><a href="/" class="navbar-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/members" class="navbar-link active">–ß–ª–µ–Ω—ã</a></li>
                <li><a href="/workouts" class="navbar-link">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</a></li>
            </ul>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container main-content">
        <h1 class="page-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–ª–µ–Ω–∞–º–∏</h1>

        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
        <div class="card mb-4">
            <h2 class="card-title">–î–æ–±–∞–≤–∏—Ç—å —á–ª–µ–Ω–∞</h2>
            <form th:action="@{/members/add}" th:object="${member}" method="post">
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label">–ò–º—è</label>
                            <input type="text" class="form-control" th:field="*{name}" required>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label">–í–æ–∑—Ä–∞—Å—Ç</label>
                            <input type="number" class="form-control" th:field="*{age}" required>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label">–¢–∏–ø —á–ª–µ–Ω—Å—Ç–≤–∞</label>
                            <select class="form-control" th:field="*{membershipType}" required>
                                <option value="Basic">Basic</option>
                                <option value="Silver">Silver</option>
                                <option value="Gold">Gold</option>
                                <option value="Premium">Premium</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            <input type="text" class="form-control" th:field="*{phoneNumber}" required>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ —á–ª–µ–Ω–æ–≤ -->
        <!-- –í —Å–ø–∏—Å–∫–µ —á–ª–µ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º Thymeleaf –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã -->
<div th:unless="${members.empty}">
    <div th:each="member : ${members}" class="list-item">
        <div class="list-item-header">
            <div>
                <strong th:text="${member.name}"></strong>
                <span class="badge" th:text="${member.membershipType}"></span>
            </div>
            <div>
                <span class="text-muted" th:text="${member.age} + ' –ª–µ—Ç'"></span>
            </div>
        </div>
        <p class="text-muted mb-1" th:text="${member.phoneNumber}"></p>
        <div class="mt-2">
            <a th:href="@{/members/edit/{id}(id=${member.id})}" 
               class="btn btn-sm btn-secondary">–ò–∑–º–µ–Ω–∏—Ç—å</a>
            <a th:href="@{/members/delete/{id}(id=${member.id})}" 
               class="btn btn-sm btn-danger"
               onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —á–ª–µ–Ω–∞ ' + [[${member.name}]] + '?')">–£–¥–∞–ª–∏—Ç—å</a>
        </div>
    </div>
</div>

<!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
<div class="card mt-4">
    <h3 class="card-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
    <p>–í—Å–µ–≥–æ —á–ª–µ–Ω–æ–≤: <strong th:text="${totalMembers}"></strong></p>
</div>
    </div>
</body>
</html>